name: "Market Makers"
description: "Multiple agents providing liquidity with different strategies"

exchange:
  # Use Docker service name for agents running in containers
  url: "http://exchange:8000"

companies:
  - ticker: TECH
    name: "TechCorp Industries"
    total_shares: 10000000
    float_shares: 5000
    ipo_price: 150.00

  - ticker: BANK
    name: "First National Bank"
    total_shares: 5000000
    float_shares: 2500
    ipo_price: 75.00

  - ticker: ENER
    name: "Global Energy Corp"
    total_shares: 8000000
    float_shares: 4000
    ipo_price: 120.00

accounts:
  - id: market_maker_1
    initial_cash: 500000.00

  - id: market_maker_2
    initial_cash: 500000.00

  - id: retail_trader
    initial_cash: 100000.00

  - id: momentum_trader
    initial_cash: 200000.00

agent_platform:
  url: "http://localhost:8001"

agents:
  - name: "Market Maker Alpha"
    account: market_maker_1
    strategy_type: rule_based
    strategy_source: |
      name: spread_trader
      description: Provides liquidity by placing limit orders

      rules:
        - name: place_bid
          description: Place a bid below market
          ticker: TECH
          when:
            - metric: my_cash
              operator: ">"
              value: 1000
          then:
            - action: buy
              quantity: 10
              price_offset_pct: -0.02
              order_type: limit

        - name: place_ask
          description: Place an ask above market
          ticker: TECH
          when:
            - metric: my_holdings
              operator: ">"
              value: 0
          then:
            - action: sell
              quantity: 5
              price_offset_pct: 0.02
              order_type: limit
    interval_seconds: 8
    auto_start: true

  - name: "Market Maker Beta"
    account: market_maker_2
    strategy_type: rule_based
    strategy_source: |
      name: bank_spread_trader
      description: Market makes BANK stock

      rules:
        - name: place_bid
          ticker: BANK
          when:
            - metric: my_cash
              operator: ">"
              value: 500
          then:
            - action: buy
              quantity: 20
              price_offset_pct: -0.01
              order_type: limit

        - name: place_ask
          ticker: BANK
          when:
            - metric: my_holdings
              operator: ">"
              value: 0
          then:
            - action: sell
              quantity: 10
              price_offset_pct: 0.01
              order_type: limit
    interval_seconds: 10
    auto_start: true

  - name: "Retail Random Trader"
    account: retail_trader
    strategy_type: random
    strategy_params:
      max_order_value: 1000
    interval_seconds: 15
    auto_start: true

  - name: "Active Momentum Trader"
    account: momentum_trader
    strategy_type: random
    strategy_params:
      max_order_value: 2000
    interval_seconds: 5
    auto_start: true
